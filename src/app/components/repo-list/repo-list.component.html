<div *ngIf="errorMessage">
  <h1>{{errorMessage}}</h1>
</div>
<ng-container *ngIf="data; else loading">
    <div class="flex flex-col p-10 w-full">
      <!-- github name and profile pic -->
      <div class="flex w-full">
        <div class=" flex rounded-full bg-gray-100 w-40 h-40 p-1"> <!--image-->
          <img src={{userProfile.avatar_url}} width="160px" height="160px" class="rounded-full" alt="profile image"/>
        </div> 
        <div class="flex flex-col ml-20 items-start justify-center"> <!-- profile details -->
          <h1>{{userProfile.name}}</h1>
          <p>{{userProfile.bio}}</p>
          <p>{{userProfile.location}}</p>
          <p>{{userProfile.twitter_username}}</p>
        </div> 
      </div>
      <!-- github link -->
      <div class="flex w-full mt-10 pb-2 border-b-2 border-gray-300">
        <p>{{userProfile.html_url}}</p>
      </div>
      <!-- List repos -->
      <div class="flex flex-wrap w-full justify-start mt-10">
  
        <div  *ngFor="let repo of data " class="flex flex-col w-2/5 h-auto m-2 border-2 border-gray-400 p-2 ">
          <!-- <h1 class="font-bold text-xl text-blue-500 h-auto">{{repo.name}}</h1> -->
          <a [href]="repo.html_url" target="_blank" class="font-bold text-xl text-blue-600 hover:underline">{{ repo.name }}</a>

          <p class="mt-2 mb-2 text-gray-700 h-32 text-xs">{{repo.description}}</p>
          <div class="flex w-full mt-2 mb-2 flex-wrap">
            <span *ngFor="let topic of repo.topics" >
              <span class="m-1 bg-blue-400 rounded-sm text-white p-1 text-sm text-center">{{topic}}</span>
            </span>
          </div>
        </div>
      </div>
    </div>
    <!-- Pagination -->
    <div class="flex flex-col w-full justify-start items-center mb-20">
      <div id="pagination" class="flex w-96 justify-start overflow-x-scroll">
        <div  *ngFor="let btn of range">
          <button  (click)="getPaginationData(btn)" class="bg-black p-1 w-14 m-1 text-sm bg-transparent border-2 border-gray-400">{{btn}}</button>
        </div>
      </div> 
      <div class="flex justify-between w-96 mt-2">
        <button class="rounded-3xl p-2 w-1/3 border-2 border-gray-400 text-sm " (click)="handlePrevBtn()" id="prevBtn">
          &lt; pre
        </button>
        <button  class="rounded-3xl p-2 w-1/3 border-2 border-gray-400 text-sm "
        (click)="handleNextBtn()" id="nextBtn">
          next &gt;
        </button>
      </div>
      <div class="flex justify-between w-96 mt-2">
        <span class="text-gray-600">Showing {{page}} of {{totalPage}} page</span>
        <div>
          <label for="perPage">Show per page:</label>
          <select [(ngModel)]="selectedOption" name="perPage" (click)="getOption()">
            <option>10</option>
            <option>25</option>
            <option>50</option>
            <option>100</option>
          </select>
          </div>
      </div>
    </div>
</ng-container> 





<ng-template #loading>
<div role="status" class=" animate-pulse w-full">
  <div class="flex flex-col p-10 w-full">
    <!-- github name and profile pic -->
    <div class="flex w-full">
      <div class=" flex rounded-full bg-gray-200 w-40 h-40 p-1"> <!--image-->
      </div> 
      <div class="flex flex-col ml-20 items-start justify-center"> <!-- profile details -->
        <h1 class="bg-gray-200 w-72 h-14 m-2"></h1>
        <p class="bg-gray-200 w-72 h-10 m-2"></p>
        <p class="bg-gray-200 w-72 h-10 m-2"></p>
        <p class="bg-gray-200 w-72 h-10 m-2"></p>
      </div> 
    </div>
    <!-- github link -->
    <div class="flex w-full mt-10 pb-2">
      <p class="bg-gray-200 w-72 h-10 m-2"></p>
    </div>
    <!-- List repos -->
    <div class="flex flex-wrap w-full justify-start mt-10">
      <div class="flex flex-col w-2/5 h-60 m-2  bg-gray-200 p-2 "></div>
      <div class="flex flex-col w-2/5 h-60 m-2  bg-gray-200 p-2 "></div>
    </div>
  </div>
</div>
</ng-template>
